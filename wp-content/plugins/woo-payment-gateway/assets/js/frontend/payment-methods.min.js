jQuery(function(a){var b={params:wc_braintree_payment_methods_params,token_selector:".wc-braintree-payment-token",container:".wc-braintree-payment-gateway",new_method_container:".wc-braintree-new-payment-method-container",saved_method_container:".wc-braintree-payment-methods-container",init:function(){this.has_payment_methods()&&!this.init_complete&&(a(document.body).on("updated_checkout",this.update_elements),a(document.body).on("update_checkout",this.update_checkout),a(document.body).on("click",".wc-braintree-payment-type",b.display_payment_container),a(document.body).on("change","select.wc-braintree-payment-method",b.update_method_from_select),this.initialize_elements(),this.init_complete=!0)},initialize_elements:function(){a().select2&&a("select.wc-braintree-payment-method").length&&!a("select.wc-braintree-payment-method").hasClass("select2-hidden-accessible")&&a("select.wc-braintree-payment-method").select2({width:"100%",templateResult:b.output_template,templateSelection:b.output_template,language:{noResults:function(){return b.params.no_results}.bind(this)}}).trigger("change")},update_checkout:function(){b.payment_types=a(".wc-braintree-payment-type").filter(":checked")},update_elements:function(){b.initialize_elements(),a.each(b.payment_types,function(b,c){var d="#"+a(c).attr("id");a(d).prop("checked",!0).trigger("click")})},display_payment_container:function(){"token"===a(this).val()?a(this).closest(b.container).find(b.new_method_container).slideUp(400,function(){a(this).closest(b.container).find(b.saved_method_container).slideDown(400),a(document.body).triggerHandler("wc_braintree_display_saved_methods",a("[name=\"payment_method\"]:checked").val())}):a(this).closest(b.container).find(b.saved_method_container).slideUp(400,function(){a(this).closest(b.container).find(b.new_method_container).slideDown(400),a(document.body).triggerHandler("wc_braintree_display_new_payment_method",a("[name=\"payment_method\"]:checked").val())})},has_payment_methods:function(){return a(".wc-braintree-payment-methods-container").length},update_method_from_select:function(){a(this).closest(b.container).find(b.token_selector).val(a(this).val())},output_template:function(c,d){var e=a(c.element).data("method-type"),f=a(c.element).data("gateway");return e&&(a.each(b.params.cards,function(b,c){a(d).removeClass(c)}),a(d).addClass("wc-braintree-select2-container "+e)),a(document.body).triggerHandler("wc_braintree_payment_method_template",[c,d]),c.text}};b.init(),a(document.body).on("updated_checkout",b.init.bind(b))});